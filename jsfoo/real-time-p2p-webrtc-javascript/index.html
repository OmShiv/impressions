<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>
      Real Time P2P Collaboration | HTML5, Javascript & CSS
    </title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/sky-custom.css" id="theme">
    <link rel="stylesheet" href="css/main.css" id="theme">
    <!-- <link rel="stylesheet" href="lib/css/github.css"> -->
    <link rel="stylesheet" href="lib/css/zenburn.css" id="stylesheet">
    <!-- If the query includes 'print-pdf', use the PDF print sheet -->

    <script>
document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
    </script>
<!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
<![endif]-->
  </head>
  <body>
    <div class="reveal">
        <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
        <!-- Slide 1 -->
        <section data-state="whiteout">
          <h1>
              WebRTC
          </h1>
          <div class="block-break">&nbsp;</div>

          <div id="hero-logo" class="hero-logo">
            <img src="images/webrtc-plain-220.jpg" alt="WebRTC" />
            <img src="images/html5-logo-220.jpg" alt="HTML5" />
            <img src="images/jsfoo-logo-220.jpg" alt="JSfoo" />
          </div>
          <div class="block-break">&nbsp;</div>

          <h3> Real Time Collaboration with <span class="word">JS</span> &amp; <span class="word">HTML5</span></h3>
          <div class="block-break">&nbsp;</div>

          <div class="bio">
            <p class="word">Om Shankar</p>
            <p>Amazon, @WalmartLabs, Adobe Systems</p>
            <p>Loves the <span class="word">Web</span>; believes moving it <span class="word">forward</span> </p>
            <p> <span class="word">JavaScript</span> freak, <span class="word">HTML5</span> Aficionado </p>
            <p class="fragment" style="font-size: 60%; margin-top: 20px; color: #212121;">Usually, press <kbd>right</kbd> key. When bottom arrow glows, press <kbd>down arrow</kbd> key</p>
          </div>
        </section> <!-- // Slide 0 -->

        <!-- Slide 1 -->
        <section data-state="alert">
          <section>
            <div>
              <img src="images/why-html5.png" alt="Why HTML5">
            </div>
            <div class="block-break">&nbsp;</div>
            <h4>Why you speak HTML5 &amp; WebRTC in <span class="word">JSfoo</span>, eh?</h4>
            <h4 class="fragment">What has <code class="inline-code">JavaScript</code> to do with WebRTC?</h4>
          </section>

          <section>
            <div>
              <img src="images/back-answer.png" alt="Answer">
              <img src="images/why-html5-300.jpg" alt="Why HTML5">
            </div>
            <div class="block-break">&nbsp;</div>

            <div class="fragment fade-out">
              <h4 style="line-height: 1.6">If something can be done in <code class="inline-code">JavaScript</code>,</h4>
              <h4>it will be eventually done in <code class="inline-code">JavaScript</code></h4>
              <h4 style="width: 90%; text-align: right; font-style: italic;">- Anon.</h4>
            </div>

            <div class="fragment fade-in" style="margin-left: 1em; position: relative; bottom: 3em;">
              <div class="fragment fade-out">
                <h4>
                  <span class="word">HTML5</span> is meaningles without <span class="word">JavaScript</span> APIs
                </h4>
                <h4 style="margin-top: 5px;">
                  All WebRTC features require APIs available in JS only
                </h4>
              </div>
            </div>

            <h4 style="bottom: 5em; position: relative;"
            class="fragment fade-in"><span class="word">Christian Heilmann</span>, the HTML5 Guru, is speaking at <span class="word">JSfoo</span>
            </h4>
          </section>

        </section> <!-- // Slide 1 -->

        <!-- Slide 2 -->
        <section>
          <section data-state="orange">
            <div>
              <img src="images/just-want-internet.png" alt="Just Want Internet">
            </div>
            <div class="block-break">&nbsp;</div>
            <h4>I just want Internet, What the hell is HTML5</h4>
          </section>

          <section data-state="whiteout">
            <h3>Web as an Application</h3>
            <div>
              <img src="images/back-answer.png" alt="Answer">
              <img src="images/extra-features.jpg" alt="Thinking">
            </div>
            <div class="block-break">&nbsp;</div>
            <h4 class="fragment">Don't you want to Communicate? </h4>
            <h4 class="fragment">Export, Share, Store, Edit?</h4>
            <h4 class="fragment">Record &amp; Play videos and songs?</h4>
            <h4 class="fragment">Drag Drop, 3D, Flexible layouts, Create and Draw?</h4>
          </section>

          <section data-state="whiteout">
            <div>
              <img src="images/sj.png" alt="Question">
            </div>
            <div class="block-break">&nbsp;</div>
            <h3>What are these?</h3>
            <h3>You tell me! You tell me right now!!</h3>
          </section>

          <!-- HTML5 Features -->
          <section data-state="whiteout">
            <h2>HTML5 Features</h2>
            <div class="block-break">&nbsp;</div>

            <div class="plain-image fragment">
              <img src="images/HTML5-features.png" alt="HTML5 Features">
            </div>
            <div class="block-break">&nbsp;</div>

            <div class="fragment word" style="text-shadow: none;">
              <!-- <span class="fragment" style="font-size: 80%;">Anticlockwise: </span> -->
              <span class="fragment">Semantics,</span>
              <span class="fragment">Offline &amp; Storage,</span>
              <span class="fragment">Multimedia,</span>
              <span class="fragment">3D &amp; Graphics (WebGL, SVG),</span>
              <span class="fragment">CSS3 
                <span class="fragment highlight-green">
                (yes that's part of HTML5 Spec),
                </span>
              </span>
              <span class="fragment">Performance &amp; Integration (CORS, AJAX2, WebWorkers),</span>
              <span class="fragment">
                <span class="fragment highlight-blue">
                Connectivity (Real-time, WebSockets &amp; Push),
                </span>
              </span>
              <span class="fragment">, Device Acces (Geolocation, Tilt, etc.)</span>
            </div>
          </section>

        </section> <!-- // Slide 2 -->

        <!-- Slide 3 -->
        <section>

          <section data-state="soothe">
            <h2>What is WebRTC</h2>
            <div>
              <img src="images/webrtc2.png" alt="WebRTC Logo 2">
            </div>
            <div class="block-break">&nbsp;</div>

            <h4>Web Real Time Communication: </h4>
            <div class="fragment"> An HTML5 Featureset enabling <span class="word">Real Time P2P communication</span> ...</div>
            <div class="block-break">&nbsp;</div>
            <div class="fragment">natively in Browsers - without any plugins.</div>
            <div class="fragment">with support for data Sharing, Audio and Video Chat, etc.</span></div>
            <div class="fragment">API Standards and Specs being maintained by <span class="word"><a href="http://www.w3.org/TR/webrtc/">W3C</a></span>.</div>
          </section>

          <section data-state="whiteout">
            <h2>Where is JavaScript?</h2>
            <div class="block-break">&nbsp;</div>

            <div style="text-align: left;">- 3 main actions required for WebRTC on Client Side (Browser) are performed by <span class="word">JavaScript</span>:</div>
            <div class="block-break">&nbsp;</div>

            <div style="text-align: left;">
              <ul >
                <li>Acquiring the Video and Audio Streams 
                  <div class="fragment"><code class="inline-code">getUserMedia</code> returning <code class="inline-code">MediaStream</code> <span style="font-size: 60%; font-style: italic;" >(JS Object pointing a live stream being fed to it)</span></div>
                </li>
                <li style="margin-top: 5px;">Sharing Streams with peers - AKA Communicating !
                  <div class="fragment"><code class="inline-code">RTCPeerConnection</code> &nbsp;<code class="inline-code">RTCIceCandidate</code></div>
                </li>
                <li style="margin-top: 5px;">Sharing data with peers
                  <div class="fragment"><code class="inline-code">RTCDataChannel</code> </div>
                </li>
              </ul>
            </div>
          </section>

          <section data-state="whiteout">
            <h2>Acquiring Video and Audio</h2>
            <div class="block-break">&nbsp;</div>

            <div><code style="font-size: 110%;" class="inline-code">getUserMedia</code> </div>
            <pre>
              <code class="javascript" data-trim>
var constraints = {video: true, audio: true };

navigator.getUserMedia(constraints, successCallback, errorCallback);

function successCallback(stream) {
  var video = document.querySelector("video");
  video.src = window.URL.createObjectURL(stream);
}

function errorCallback(error) {
  alert("Error: ", error);
}
              </code>
            </pre>

            <div style="text-align: left;">
              <ul class="pointers">
                <li>
                  <code class="inline-code">constraints</code>
                  <span> - Must for getusermedia, specifies Media type, resolution, etc.</span>
                </li>
                <li>
                  <code class="inline-code">video</code>
                  <span> - An HTML5 DOM element capable of playing live feed</span>
                </li>
              </ul>
            </div>
          </section>

          <section data-state="whiteout">
            <h2>Communicating Streams</h2>
            <div class="block-break">&nbsp;</div>

            <div><code style="font-size: 110%;" class="inline-code">RTCPeerconnection</code> </div>
            <pre>
              <code class="javascript" data-trim>
var peerCon = new window.RTCPeerConnection(configuration);

peerCon.addStream(localStream); // got from getUserMedia
peerCon.onaddstream = function(e) {
...

peerCon.addIceCandidate(candidate);
peerCon.onicecandidate = function(e) {
...

peerCon.setLocalDescription(description); 
peerCon.setRemoteDescription(new RTCSessionDescription(msg.data));

peerCon.createOffer(IceCandidate)
peerCon.createAnswer(...)

              </code>
            </pre>

            <div style="text-align: left;">
              <ul class="pointers">
                <li>
                  <code class="inline-code">IceCandidate</code>
                  <span> - ICE - f/w to allow peers to communicate behind Firewalls, explained later.</span>
                </li>
                <li>
                  <code class="inline-code">RTCSessionDescription</code>
                  <span> - Description of multimedia content, following SDP, explained later.</span>
                </li>
              </ul>
            </div>
          </section>

          <section data-state="whiteout">
            <h2>Communicating Data</h2>
            <div class="block-break">&nbsp;</div>

            <div><code style="font-size: 110%;" class="inline-code">RTCDataChannel</code> </div>
            <pre>
              <code class="javascript" data-trim>
var peerCon = new window.RTCPeerConnection(
  servers, {
    optional: [{ RtpDataChannels: true }]
  }
);

peerCon.ondatachannel = function(event) {
  receiverChannel = event.channel;
  receiverChannel.onmessage = function(event){
    receiveDOMElement.innerHTML = event.data;
  };
};

XmitterChannel = pc.createDataChannel("sendDataChannel", {reliable: false});
XmitterChannel.send('Hello WebRTC');
              </code>
            </pre>

            <div style="text-align: left;">
              <ul class="pointers">
                <li>
                  <code class="inline-code">RtpDataChannels: true</code>
                  <span> - To enable arbitrary data via the same RTCPeerConnection.</span>
                </li>
                <li>
                  <code class="inline-code">onmessage</code>
                  <span>, etc. - Same API as WebSockets.</span>
                </li>
              </ul>
            </div>
          </section>

        </section> <!-- // Slide 3 -->

        <!-- Slide 4 -->
        <section>
          <!-- WebRTC -->
          <section data-state="cobalt">
            <h2>WebRTC &amp; the Web</h2>
            <div class="block-break">&nbsp;</div>

            <h4>Architecture</h4>
            <div>
              <img src="images/webrtcArchitecture.png" alt="Connectivity" style="padding: 10px;">
            </div>
          </section>

          <section data-state="alert">
            <div>
              <img src="images/sj-dont-show-again.jpg" alt="Don't show me">
            </div>
            <h4>I don't want to see that image again!</h4>
          </section>

          <!-- No Firewall -->
          <section data-state="cobalt">
            <h2>WebRTC: No Firewalls</h2>
            <div class="block-break">&nbsp;</div>
            <h4>STUN and TURN not needed</h4>
            <figure>
              <img src="images/ideal-case.png" alt="Ideal Case" />
              <figcaption>Courtesy: WebRTC - Google IO; and Self Modified</figcaption>
            </figure>
          </section>
          <!-- Behind NAT & STUN -->
          <section data-state="cobalt">
            <h2>WebRTC: Behind NAT Firewall</h2>
            <div class="block-break">&nbsp;</div>
            <h4>Solution 1: Use STUN</h4>
            <figure>
              <img src="images/behind-nat.png" alt="Behind NAT" />
              <img src="images/use-stun.png" alt="Use STUN" alt="Use Stun" class="fragment plain-image" style="position: absolute; left: 250px; bottom: 65px;" />
              <figcaption>Courtesy: WebRTC - Google IO</figcaption>
            </figure>
          </section>
          <!-- TURN -->
          <section data-state="cobalt">
            <h2>WebRTC: STUN Fails</h2>
            <h4>Solution 2: Use TURN</h4>
            <figure>
              <img src="images/turn.png" alt="Using TURN" />
              <figcaption>Courtesy: WebRTC - Google IO</figcaption>
            </figure>
          </section>

          <section data-state="alert">
            <div>
              <img src="images/sj.png" alt="Tell me">
            </div>
            <h3>What is <span class="word">STUN</span>, <span class="word">TURN</span>, <span class="word">SDP</span> and <span class="word">ICE</span>?</h3>
            <h3>You tell me! You tell me right now!!</h3>
          </section>

        </section> <!-- // Slide 4 -->

        <!-- Slide 5 -->
        <section>
          <section data-state="whiteout">
            <h2>WebRTC: Stuff</h2>

            <h4>Terminologies</h4>
            <div style="text-align: left;">
              <ul class="pointers" style="">
                <li class="fragment">
                  <code class="inline-code">NAT</code>
                  <span>- Network Address Translation</span>
                  <div>Is used to give the client a public address behind firewall.</div>
                </li>
                <li class="fragment">
                  <code class="inline-code">ICE</code>
                  <span>- Interactive Connectivity Establishment</span>
                  <div>Is a framework to allow your web browser to connect with peers behind NAT. How? Speaking...</div>
                </li>
                <li class="fragment">
                  <code class="inline-code">STUN</code>
                  <span>- Session Traversal Utilities for NAT</span>
                  <div>Protocol for Client Discovery.</div>
                </li>
                <li class="fragment">
                  <code class="inline-code">TURN</code>
                  <span>- Traversal Using Relays around NAT</span>
                  <div>ICE opens a connection with a TURN server and relays all information through that.</div>
                </li>
                <li class="fragment">
                  <code class="inline-code">Signal Channel/Signaling</code>
                  <span>- Usually a PUSH enabled communication channel</span>
                  <div>Required for exchanging Network info., Call Offer, Call Answer and SDP.</div>
                </li>
                <li class="fragment">
                  <code class="inline-code">SDP</code>
                  <span>- Session Description Protocol</span>
                  <div>Standard for describing the multimedia content of the connection such as resolution, formats, codecs, encryption, etc. and the connection itself.</div>
                </li>
              </ul>
            </div>
          </section>

          <!-- Links -->
          <section data-state="whiteout">
            <h2>WebRTC: Stuff</h2>
            <h4>Over the Internet</h4>
            <div class="block-break">&nbsp;</div>

            <div style="text-align: left;">
              <ul class="pointers">
                <li><a href="http://omshiv.github.io/ice-breaker">ICE Breaker</a> <span> - JSFoo Demo Application</span></li>
                <li><a href="http://www.webrtc.org"> WebRTC landing page</a> <span></span></li>
                <li><a href="http://blog.chromium.org/2012/04/chromes-webrtc-roadmap.html"> WebRTC roadmap</a> <span> in Chrome</span></li>
                <li><a href="http://mozilla.github.io/webrtc-landing"> Mozilla</a> <span> - the HTML5 pillar</span></li>
                <li><a href="http://bit.ly/13Od3an"> NVIDIA Tegra High def conferencing</a> <span> using WebRTC</span></li>
                <li><a href="http://bit.ly/T2zgI1"> World's first WebRTC enabled mobile browser</a> <span> - by Ericsson R&amp;D labs</span></li>
                <li><a href="http://bit.ly/11DI8KT"> 3D communication in browser</a> <span> - by Ericsson R&amp;D labs</span></li>
              </ul>
            </div>
          </section>

          <!-- Links -->
          <section data-state="whiteout">
            <h2>ICE Breaker</h2>
            <div class="block-break">&nbsp;</div>

            <div>
              <a href="http://omshiv.github.io/ice-breaker/"><img src="images/ICE-breaker.png" alt="ICE Breaker"></a>
            </div>
          </section>

          <!-- Cool Stuff -->
          <section data-state="whiteout">
            <h2>Cool Extras</h2>
            <div class="block-break">&nbsp;</div>

            <div style="text-align: left;">
              <ul class="pointers">
                <li> <a href="http://idevelop.ro/ascii-camera/">ASCII Camera</a></li>
                <li> <a href="http://www.webaudiodemos.appspot.com/AudioRecorder/index.html">Audio Recorder</a></li>
                <li> <a href="https://www.sharefest.me/">ShareFest</a> <span>- Send files Directly, P2P</span></li>
                <li> <a href="http://omshiv.github.io/experiments/webrtc/">Who's Talking</a> <span>- Detecting who is speaking in a Conference</span></li>
                <li> <a href="http://omshiv.github.io/experiments/webrtc/">GIF image from Video</a> <span>- Pure JavaScript and HTML5</span></li>
              </ul>
            </div>
            <div class="block-break">&nbsp;</div>

            <div class="fragment">
              <div class="fragment grow">
              <code class="inline-code">JavaScript</code> + <code class="inline-code">HTML5</code> = <span class="word">Awesomeness</span>
              </div>
            </div>
          </section>

        </section> <!-- // Slide 5 -->

        <!-- Slide 6 -->
        <section data-state="soothe">
          <h2>Thank You</h2>
          <h4>Om Shankar</h4>
          <div class="block-break">&nbsp;</div>

          <h5> <a href="https://twitter.com/om_invincible">@om_invincible</a> </h5>
          <h5> <a href="mailto:invincible.om@gmail.com">invincible.om@gmail</a></h5>
          <h5> <a href="https://github.com/OmShiv/">github.com/OmShiv</a></h5>
          <h5> <a href="http://geekyogi.tumblr.com/">geekyogi.tumblr.com</a></h5>

        </section>
        <!-- Slide 6 -->

      </div> <!-- // .slides -->
    </div> <!-- // .reveal -->

    <div id="state-changer">State</div>

<script src="lib/js/head.min.js"></script> 
<script src="js/reveal.min.js"></script> 
<script>

  Reveal.initialize({
  controls: true,
  progress: true,
  history: true,
  center: true,
  rollingLinks: true,
  height: 780,

  theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
  transition: 'default', // default/cube/page/concave/zoom/linear/fade/none

  // Optional libraries used to extend on reveal.js
  dependencies: [
    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
    { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
    { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
    { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
    { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
  ]
  });

</script>
<script src="js/app.js"></script> 
  </body>
</html>
